<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CMS Card Maker</title>
    <link rel="shortcut icon" type="image/x-icon" href="https://joshey40.github.io/CustomMarvelSnap/favicon.ico"/>
    <link href="https://joshey40.github.io/CustomMarvelSnap/css/fonts.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
    <link href="https://joshey40.github.io/CustomMarvelSnap/CardMaker/cardmaker.css" rel="stylesheet">
    <script async src="script.js" type="module"></script>
</html>
<body>
    <img src="https://joshey40.github.io/CustomMarvelSnap/res/img/background.png" class="background-img" alt="background">
    <div class="content-div">
        <div>
        </div>
        <div class="divider-div">
            <div class="result-div" id="resultDiv">
                <canvas id="cardImage" width="1024" height="1318" style="width: 100%; background: transparent;"></canvas>
                <!-- Drag & Drop overlays for images (z-order based on DOM order) -->
                <div id="frameBreakDropZone" class="preview-drop-zone">Drop Frame Break Image Here</div>
                <div id="mainImageDropZone" class="preview-drop-zone">Drop Main Image Here</div>
                <div id="titleImageDropZone" class="preview-drop-zone">Drop Title Image Here</div>
            </div>
            <div class="editor-div">
                <div style="display: flex; justify-content: space-evenly;">
                    <textarea id="name" name="name" placeholder="Name" class="default-input" style="width: 162px; height: 18px; margin-right: 8px; resize: none;" oninput="updateResult()"></textarea>
                    <input type="color" id="nameColor" name="nameColor" class="default-input" style="width: 30px; height: 30px; padding: 1px;" value="#ffffff" oninput="updateResult()">
                </div>
                <div style="display: flex; justify-content: space-evenly;">
                    <select id="fontSelect" name="fontSelect" class="default-input" style="width: 173.2px; margin-right: 8px;" onchange="updateResult()">
                        <option value="BadaBoom">BadaBoom</option>
                        <option value="Ultimatum-Bold">Ultimatum</option>
                        <option value="HelveticaNeueBold">Helvetica</option>
                        <option value="ComicSlim">Comic Slim</option>
                        <option value="ComicCraft">Comic Craft</option>
                        <option value="FeastOfFlesh">Feast Of Flesh</option>
                        <option value="AvengersRegular">Avengers</option>
                        <option value="BlackWidowMovie">Black Widow</option>
                        <option value="MarvelRegular">MarvelRegular</option>
                        <option value="WakandaForever">Wakanda</option>
                        <option value="ComebackHome">Comeback Home</option>
                    </select>
                    <input type="color" id="nameOutlineColor" name="nameOutlineColor" class="default-input" style="width: 30px; height: 30px; padding: 1px;" value="#000000" oninput="updateResult()">
                </div>
                <div style="display: flex; justify-content: space-evenly;">
                    <label for="titleImage" class="default-button" style="width: 162px; margin-right: 8px;">Upload Name Image</label>
                    <input type="file" id="titleImage" name="titleImage" accept="image/*" style="display: none;" onchange="titleImageChange(event)">
                    <button class="default-button" style="width: 30px; height: 30px; padding: 1px; background:url('https://joshey40.github.io/CustomMarvelSnap/res/img/reset.png') no-repeat; background-size: 100% 100%;" onclick="clearTitleImage()"></button>
                </div>
                <div style="display: flex; justify-content: space-evenly;">
                    <h2 style="margin: 0; width: 52px; margin-right: 8px;">Zoom:</h2>
                    <input type="range" id="nameZoom" name="nameZoom" min="0" max="200" value="100" class="default-slider" style="width: 140px;" oninput="updateResult()">
                </div>
                <div style="display: flex; justify-content: space-evenly;">
                    <h2 style="margin: 0; width: 52px; margin-right: 8px;">Height:</h2>
                    <input type="range" id="nameOffsetY" name="nameOffsetY" min="-100" max="100" value="0" class="default-slider" style="width: 140px;" oninput="updateResult()">
                </div>
                <hr style="width: 200px; border: 2px solid #10072b; margin: 5px 0; border-radius: 5px;">
                <div style="display: flex; justify-content: space-evenly;">
                    <input type="number" id="cost" name="cost" placeholder="Cost" class="default-input" style="width: 71px; margin-right: 8px;" value="1" oninput="updateResult()">
                    <input type="number" id="power" name="power" placeholder="Power" class="default-input" style="width: 71px; margin-right: 8px;" value="2" oninput="updateResult()">
                    <input type="checkbox" id="showCostPower" name="showCostPower" class="default-input" style="width: 30px; height: 30px; padding: 1px;" onchange="updateResult()" checked>
                </div>
                <textarea id="description" name="description" placeholder="Description" class="default-input" style="width: 200px; height: 90px; resize: both; max-height: 150px; max-width: 350px; min-height: 70px; min-width: 200px;" oninput="updateResult()"></textarea>
                <div style="display: flex; justify-content: space-evenly;">
                    <label for="mainImage" class="default-button" style="width: 162px; margin-right: 8px;">Upload Image</label>
                    <input type="file" id="mainImage" name="mainImage" accept="image/*"style="display: none;" onchange="mainImageChange(event)">
                    <button class="default-button" style="width: 30px; height: 30px; padding: 1px; background:url('https://joshey40.github.io/CustomMarvelSnap/res/img/reset.png') no-repeat; background-size: 100% 100%;" onclick="clearMainImage()"></button>
                </div>
                <div style="display: flex; justify-content: space-evenly;">
                    <label for="foregroundImage" class="default-button" style="width: 162px; margin-right: 8px;">Upload Foreground</label>
                    <input type="file" id="foregroundImage" name="foregroundImage" accept="image/*" style="display: none;" onchange="foregroundImageChange(event)">
                    <button class="default-button" style="width: 30px; height: 30px; padding: 1px; background:url('https://joshey40.github.io/CustomMarvelSnap/res/img/reset.png') no-repeat; background-size: 100% 100%;" onclick="clearForegroundImage()"></button>
                </div>
                <div style="display: flex; justify-content: space-evenly;">
                    <label for="frameBreakImage" class="default-button" style="width: 162px; margin-right: 8px;">Upload Frame Break</label>
                    <input type="file" id="frameBreakImage" name="frameBreakImage" accept="image/*" style="display: none;" onchange="frameBreakImageChange(event)">
                    <button class="default-button" style="width: 30px; height: 30px; padding: 1px; background:url('https://joshey40.github.io/CustomMarvelSnap/res/img/reset.png') no-repeat; background-size: 100% 100%;" onclick="clearFrameBreakImage()"></button>
                </div>
                <input type="range" id="imageZoom" name="imageZoom" min="-50" max="150" value="0" class="default-slider" style="width: 200px;" oninput="updateResult()">
                <hr style="width: 200px; border: 2px solid #10072b; margin: 5px 0; border-radius: 5px;">
                <button id="selectFrameButton" class="default-button" style="width: 212px;" onclick="selectFrame()">Select Frame</button>
                <div style="display: flex; justify-content: space-evenly;">
                    <button id="selectEffectButton" class="default-button" style="width: 174px; margin-right: 8px;" onclick="selectEffect()">Select Flare</button>
                    <button id="clearEffectButton" class="default-button" style="width: 30px; height: 30px; padding: 1px; background:url('https://joshey40.github.io/CustomMarvelSnap/res/img/reset.png') no-repeat; background-size: 100% 100%;" onclick="clearEffect()"></button>
                </div>
                <div style="display: flex; justify-content: space-evenly;">
                    <button id="selectFinishButton" class="default-button" style="width: 174px; margin-right: 8px;" onclick="selectFinish()">Select Finish</button>
                    <button id="clearFinishButton" class="default-button" style="width: 30px; height: 30px; padding: 1px; background:url('https://joshey40.github.io/CustomMarvelSnap/res/img/reset.png') no-repeat; background-size: 100% 100%;" onclick="clearFinish()"></button>
                </div>
                <div style="display: flex; justify-content: space-evenly;">
                    <h2 style="margin: 0; width: 96px; margin-right: 8px;">Background:</h2>
                    <input type="checkbox" id="transparentBg" name="transparentBg" class="default-input" style="width: 30px; height: 30px; padding: 1px; margin-right: 8px;" onchange="updateResult()" checked>
                    <input type="color" id="backgroundColor" name="backgroundColor" class="default-input" style="width: 30px; height: 30px; padding: 1px; margin-right: 8px;" value="#10072b" oninput="updateResult()">
                    <button class="default-button" style="width: 30px; height: 30px; padding: 1px; background:url('https://joshey40.github.io/CustomMarvelSnap/res/img/reset.png') no-repeat; background-size: 100% 100%;" onclick="clearBackground()"></button>
                </div>
                <hr style="width: 200px; border: 2px solid #10072b; margin: 5px 0; border-radius: 5px;">
                <div style="display:flex; justify-content: space-between; width:212px;">
                    <button class="default-button" style="flex:1; margin-right:8px;" onclick="importCard()">Import</button>
                    <button class="default-button" style="flex:1;" onclick="exportCard()">Export</button>
                </div>
                <button id="downloadButton" class="default-button" style="width: 212px;" onclick="downloadCard()">Download Card</button>
            </div>
        </div>
        <div style="flex-direction: row; display: flex; flex-wrap: wrap;">
            <div class="credits-button" id="creditsButton" onmouseover="showCreditsPopup(0)" onmouseout="hideCreditsPopup(0)">Credits</div>
            <button class="default-button" style="width: fit-content; padding: 6px 10px; margin: 10px;" onclick="showTutorialPopup()">Tutorial</button>
            <a href="https://joshey40.github.io/CustomMarvelSnap/DeckMaker" target="_blank" rel="noopener noreferrer" class="default-button" style="width: fit-content; padding: 6px 10px; margin: 10px; text-decoration: none;">Deck Maker</a>
            <a href="https://www.patreon.com/TheArtist115" target="_blank" rel="noopener noreferrer" class="default-button" style="width: fit-content; padding: 6px 10px; margin: 10px; display: flex; align-items: center; gap: 8px; text-decoration: none;">
                <img src="https://joshey40.github.io/CustomMarvelSnap/res/img/patreon-icon.png" alt="Patreon" class="patreon-logo" style="height: 1.3em; width: auto; vertical-align: middle;">Support @TheArtist115
            </a>
        </div>
    </div>
    <div class="default-popup" id="frameSelectPopup">
        <div style="display: flex; justify-content: space-between; align-items: center; flex-direction: row;">
            <h1>Select Frame</h1>
            <button class="default-button" style="width: 30px; height: 30px; padding: 1px; background:url('https://joshey40.github.io/CustomMarvelSnap/res/img/close.png') no-repeat; background-size: 100% 100%;" onclick="closeFrameSelectPopup()"></button>
        </div>
        <div style="padding: 10px; overflow-y: auto; height: calc(90vh - 28px - 2rem);" id="frameSelectDiv"></div>
    </div>
    <div class="default-popup" id="effectSelectPopup">
        <div style="display: flex; justify-content: space-between; align-items: center; flex-direction: row;">
            <h1>Select Flare</h1>
            <button class="default-button" style="width: 30px; height: 30px; padding: 1px; background:url('https://joshey40.github.io/CustomMarvelSnap/res/img/close.png') no-repeat; background-size: 100% 100%;" onclick="closeEffectSelectPopup()"></button>
        </div>
        <div style="padding: 10px; overflow-y: auto; height: calc(90vh - 28px - 2rem);" id="effectSelectDiv"></div>
    </div>
    <div class="default-popup" id="finishSelectPopup">
        <div style="display: flex; justify-content: space-between; align-items: center; flex-direction: row;">
            <h1>Select Finish</h1>
            <button class="default-button" style="width: 30px; height: 30px; padding: 1px; background:url('https://joshey40.github.io/CustomMarvelSnap/res/img/close.png') no-repeat; background-size: 100% 100%;" onclick="closeFinishSelectPopup()"></button>
        </div>
        <div style="padding: 10px; overflow-y: auto; height: calc(90vh - 28px - 2rem); display: flex; flex-wrap: wrap;" id="finishSelectDiv"></div>
    </div>
    <div class="default-popup" id="tutorialPopup">
        <div style="display: flex; justify-content: space-between; align-items: center; flex-direction: row;">
            <h1>Info</h1>
            <button class="default-button" style="width: 30px; height: 30px; padding: 1px; background:url('https://joshey40.github.io/CustomMarvelSnap/res/img/close.png') no-repeat; background-size: 100% 100%;" onclick="closeTutorialPopup()"></button>
        </div>
        <div style="padding: 10px; overflow-y: auto; height: calc(90vh - 28px - 2rem);">
            <h2>Name:</h2>
            <p>You can either type a name or upload an image for the name. If you type a name, you can also change the font, color and outline color. The zoom slider allows you to adjust the size of the name and the hight slider allows you to adjust the vertical position of the name.</p>
            <h2>Cost, Power and Description:</h2>
            <p>These fields allow you to set the cost, power and description of the card. If nothing is set in the Power field, the frame automatically turns into a Spell/Skill card (see Frame section for more details). The Cost and Power Icon can be turned of completely with the checkbox.</p>
            <p>The description should be up to 5 lines long. Line breaks must be done manually. You can use <b>bold</b> text in the description by wrapping the text in <code>&lt;b&gt;</code>This will be bold<code>&lt;/b&gt;</code> or **This will be bold**. The description field is resizable, for more space.</p>
            <h2>Image, Foreground and Frame Break:</h2>
            <p>You can upload an image for the card and optionally a frame break image. The frame break image should only include those parts of the original image that should be visible outside the frame. I recommend using a tool like <a href="https://www.remove.bg" target="_blank" rel="noopener noreferrer">remove.bg</a> to remove the unwanted parts of the image. Most finishes are applied to the background, but not to the foreground, so you can use the foreground image to add additional details that should not be affected by the finish, but should be behind the frame.</p>
            <div style="display: flex; flex-direction: row; justify-content: space-evenly; flex-wrap: wrap; margin: 10px;">
                <div style="align-items: center;">
                    <h3>Example Image</h3>
                    <img src="https://joshey40.github.io/CustomMarvelSnap/res/img/default_cards/example_main.png" alt="Example Image" style="height: 300px; width: auto; border-radius: 10px;">
                </div>
                <div style="align-items: center;">
                    <h3>Foreground</h3>
                    <img src="https://joshey40.github.io/CustomMarvelSnap/res/img/default_cards/example_foreground.png" alt="Example Foreground" style="height: 300px; width: auto; border-radius: 10px;">
                </div>
                <div style="align-items: center;">
                    <h3>Frame Break</h3>
                    <img src="https://joshey40.github.io/CustomMarvelSnap/res/img/default_cards/example_framebreak.png" alt="Example Frame Break" style="height: 300px; width: auto; border-radius: 10px;">
                </div>
                <div style="align-items: center;">
                    <h3>Result</h3>
                    <img src="https://joshey40.github.io/CustomMarvelSnap/res/img/default_cards/example_result.png" alt="Example Result" style="height: 300px; width: auto; border-radius: 10px;">
                </div>
            </div>
            <h2>Frame, Flare and Finish:</h2>
            <p>Here you can select a frame, a flare and a finish for the card. More will be added in the future. If you want to use the round borders for a spell/skill card, just leave the Power field empty (BUT currently only the Basic and Matte frames have a spell variant). Most finishes are applied to the background and will replace the default background, so make sure to use the foreground and framebreak images so your character is visible.</p>
            <h2>Import and Export:</h2>
            <p>You can import and export your card designs. This allows you to save your progress and share your creations with others. The exported file is a .cmscard file that contains all the information and images needed to recreate the card.</p>
            <h2>Drag and Drop:</h2>
            <p>You can drag and drop images onto the card to upload them and the .cmscard files onto the settings to import them. The card will automatically update with the new images and information.</p>
            <h2>Feedback</h2>
            <p>Thanks for using the Card Maker! If you have any feedback or suggestions, feel free to reach out to me on <a href="https://www.reddit.com/u/joshey40" target="_blank" rel="noopener noreferrer">Reddit</a> or as @joshey40 on Discord. You can also find me on the <a href="https://www.reddit.com/r/CustomMarvelSnap" target="_blank" rel="noopener noreferrer">Custom Marvel Snap Subreddit</a>, where I hope to see your creations!</p>
            <p>Have fun creating your cards!</p>
        </div>
    </div>
    <div class="credits-popup" id="creditsPopup" onmouseover="showCreditsPopup(1)" onmouseout="hideCreditsPopup(1)">
        <b>Credits:</b><br>
        Card Maker by Joshey
        <span style="display:block; line-height:0.2; margin-top:2px;">
            <img src="https://joshey40.github.io/CustomMarvelSnap/res/img/reddit-icon.png" alt="Reddit" style="height:1em;vertical-align:middle;margin-right:4px;">u/joshey40 <img src="https://joshey40.github.io/CustomMarvelSnap/res/img/discord-icon.png" alt="Discord" style="height:1em;vertical-align:middle;margin-right:4px;">@joshey40
        </span>
        Art by Hritvik Nijhawan
        <span style="display:block; line-height:0.2; margin-top:2px;">
            <img src="https://joshey40.github.io/CustomMarvelSnap/res/img/discord-icon.png" alt="Discord" style="height:1em;vertical-align:middle;margin-right:4px;">@theartist115
        </span>
        Import/Export Feature by AvgBlue
        <span style="display:block; line-height:0.2; margin-top:2px;">
            <img src="https://joshey40.github.io/CustomMarvelSnap/res/img/reddit-icon.png" alt="Reddit" style="height:1em;vertical-align:middle;margin-right:4px;">u/AvgBlue <img src="https://joshey40.github.io/CustomMarvelSnap/res/img/discord-icon.png" alt="Discord" style="height:1em;vertical-align:middle;margin-right:4px;">@avgblue
        </span>
    </div>
</body>


